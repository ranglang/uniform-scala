@import cats.implicits._

@(key: String, values: Input, errors: ErrorTree, messages: UniformMessages[Html])


@if(errors.nonEmpty) {

<div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="error-summary">

  <h2 class="govuk-error-summary__title" id="error-summary-title">
    @messages(List(s"$key.there.is.a.problem", "there.is.a.problem"))
  </h2>
  <div class="govuk-error-summary__body">
    <ul class="govuk-list govuk-error-summary__list">

      @for((path, fieldErrors) <- errors.flatTree) {
        @for(error <- fieldErrors) {
          <li>
            <a href="#@{(key :: path).mkString(".")}">@messages.decompose(((key :: path) :+ error.msg).mkString("."), error.args)</a>
          </li>
        }
      }
    </ul>
  </div>
</div>
}
